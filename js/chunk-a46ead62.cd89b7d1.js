(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a46ead62"],{"1d39":function(t,e,s){t.exports=s.p+"img/nav-chat.055e5ea5.svg"},"1f2c":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"container-body-tablet-desktop"},[s("navTopArrowTweetsCount",{attrs:{"user-name":t.getUserByIdVuex.name,"tweet-counts":t.getUserByIdVuex.totalTweets}}),s("section",{ref:"tweetContainer",staticClass:"container-body"},[s("userProfile",{attrs:{"is-current-user":t.getUserByIdVuex.id===t.getUser.id}}),s("tweetTab"),t.fetchAllTweetsDone?t.getTweetsByUserIdVuex.length?t._l(t.getTweetsByUserIdVuex,(function(e){return s("tweetInUserAllTweets",{key:e.id,attrs:{tweet:e,user:t.getUserByIdVuex}})})):s("div",{staticClass:"text-center mt-20"},[t._v(" 該使用者還沒有發過推文 ( ˘•ω•˘ ) ")]):s("spinner")],2)],1)},a=[],n=s("5530"),i=s("61cb"),o=s("7315"),c=s("8728"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-link",{staticClass:"tweet-component",attrs:{to:{name:"Tweet",params:{userAccount:t.user.id,tweetId:t.tweet.id}}}},[r("div",{staticClass:"tweet-component-avatar"},[r("router-link",{attrs:{to:{name:"UserAllTweets",params:{userAccount:t.user.id}}}},[r("img",{staticClass:"avatar-img mt-13 ml-15 mr-10",attrs:{src:t.user.avatar,alt:"user avatar"}})])],1),r("div",{staticClass:"tweet-component-content pr-15"},[r("div",{staticClass:"header mt-10"},[r("router-link",{staticClass:"user-name mr-5",attrs:{to:{name:"UserAllTweets",params:{userAccount:t.user.id}}}},[t._v(t._s(t.user.name))]),r("span",{staticClass:"user-account"},[t._v(t._s(t._f("userAccount")(t.user.account)))]),r("span",{staticClass:"time-stamp"},[t._v(t._s(t._f("fromNow")(t.tweet.createdAt)))])],1),r("div",{staticClass:"body mt-6"},[t._v(" "+t._s(t.tweet.description)+" ")]),r("div",{staticClass:"footer mt-13 mb-10"},[r("span",{staticClass:"icon-text-wrapper reply mr-50",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.replyTweet(t.tweet.id)}}},[r("img",{staticClass:"mr-10",attrs:{src:s("4fe4"),alt:"tweet reply icon"}}),r("span",[t._v(t._s(t.tweet.totalReplies))])]),t.tweet.isLiked?r("span",{staticClass:"icon-text-wrapper liked",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.likeTweet({action:-1,tweetId:t.tweet.id})}}},[r("img",{staticClass:"mr-10",attrs:{src:s("fbcf"),alt:"tweet liked icon"}}),r("span",[t._v(t._s(t.tweet.totalLikes))])]):r("span",{staticClass:"icon-text-wrapper like",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.likeTweet({action:1,tweetId:t.tweet.id})}}},[r("img",{staticClass:"mr-10",attrs:{src:s("4d9f"),alt:"tweet like icon"}}),r("span",[t._v(t._s(t.tweet.totalLikes))])])])])])},u=[],d=s("1da1"),p=(s("96cf"),s("2f62")),m=s("2708"),f=s("17db"),w=s("1602"),g={name:"tweetInUserAllTweets",mixins:[m["a"],m["h"]],props:["tweet","user"],data:function(){return{isProcessing:!1}},methods:Object(n["a"])(Object(n["a"])({},Object(p["b"])(["addLikeToTweetByUserId","removeLikeFromTweetByUserId"])),{},{replyTweet:function(t){this.$store.commit("setReplyToTweetId",t),this.$store.commit("toggleReplyModal")},likeTweet:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var r,a,n,i,o,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(r=t.action,a=t.tweetId,!e.isProcessing){s.next=3;break}return s.abrupt("return");case 3:s.t0=r,s.next=1===s.t0?6:-1===s.t0?24:41;break;case 6:return s.prev=6,e.isProcessing=!0,s.next=10,w["a"].addLikeToTweet(a);case 10:if(n=s.sent,i=n.data,"200"===i.status){s.next=14;break}throw new Error(i.message);case 14:e.addLikeToTweetByUserId(a),e.isProcessing=!1,s.next=23;break;case 18:s.prev=18,s.t1=s["catch"](6),console.error(s.t1),f["a"].fire({title:"無法對該推文按讚"}),e.isProcessing=!1;case 23:return s.abrupt("break",41);case 24:return s.prev=24,e.isProcessing=!0,s.next=28,w["a"].removeLikeFromTweet(a);case 28:if(o=s.sent,c=o.data,"200"===c.status){s.next=32;break}throw new Error(c.message);case 32:e.removeLikeFromTweetByUserId({tweetId:a,from:"tweets"}),e.isProcessing=!1,s.next=41;break;case 36:s.prev=36,s.t2=s["catch"](24),console.error(s.t2),f["a"].fire({title:"無法對該推文收回讚"}),e.isProcessing=!1;case 41:case"end":return s.stop()}}),s,null,[[6,18],[24,36]])})))()}}),watch:{tweet:function(t){this.tweet=t}}},v=g,b=s("2877"),C=Object(b["a"])(v,l,u,!1,null,null,null),_=C.exports,x=s("9348"),k={name:"UserAllTweets",mixins:[m["d"],m["e"]],components:{navTopArrowTweetsCount:i["a"],userProfile:o["a"],tweetTab:c["a"],tweetInUserAllTweets:_,spinner:x["a"]},data:function(){return{fetchAllTweetsDone:!1}},created:function(){this.getUserById(this.$route.params.userAccount),this.getAllTweetsByUserId(this.$route.params.userAccount)},beforeRouteUpdate:function(t,e,s){this.getUserById(t.params.userAccount),this.getAllTweetsByUserId(t.params.userAccount),s()},computed:Object(n["a"])(Object(n["a"])({},Object(p["d"])(["windowWidth"])),Object(p["c"])(["getTweetsByUserIdVuex","getUserByIdVuex","getUser"]))},U=k,y=Object(b["a"])(U,r,a,!1,null,null,null);e["default"]=y.exports},"4d9f":function(t,e,s){t.exports=s.p+"img/tweet-like.fb81adc3.svg"},"4fe4":function(t,e,s){t.exports=s.p+"img/tweet-reply.3df6b89d.svg"},"61cb":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"nav-top"},[r("button",{staticClass:"btn btn-arrow",on:{click:t.backToHome}},[r("img",{attrs:{src:s("a994"),alt:"back to previous page button"}})]),r("div",{staticClass:"title"},[r("div",{staticClass:"user-name"},[t._v(t._s(t.userName))]),r("div",{staticClass:"tweet-counts"},[t._v(t._s(t.tweetCounts)+" 推文")])])])},a=[],n=s("2708"),i={name:"navTopArrowTweetsCount",mixins:[n["g"]],props:["userName","tweetCounts"]},o=i,c=s("2877"),l=Object(c["a"])(o,r,a,!1,null,null,null);e["a"]=l.exports},"61f7":function(t,e,s){t.exports=s.p+"img/profile-subscribe.589f2e74.svg"},7315:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"user-profile"},[r("div",{staticClass:"modal-body user-profile-image"},[r("img",{staticClass:"profile-background-img",attrs:{src:t.getUserByIdVuex.cover,alt:"user profile background image"}}),r("div",{staticClass:"avatar-container"},[r("img",{staticClass:"profile-avatar-img",attrs:{src:t.getUserByIdVuex.avatar,alt:"avatar"}})])]),r("div",[r("div",{staticClass:"buttons-container text-right"},[r("button",{directives:[{name:"show",rawName:"v-show",value:!t.isCurrentUser,expression:"!isCurrentUser"}],staticClass:"btn btn-primary-outline-round mt-10 mr-15",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.sendDirectMessage(t.getUserByIdVuex.id)}}},[r("img",{attrs:{src:s("1d39"),alt:"chat-dm"}})]),t.isCurrentUser?r("button",{staticClass:"btn btn-primary-outline btn-profile-action mt-10 mr-15",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.editProfile.apply(null,arguments)}}},[t._v(" 編輯個人資料 ")]):t._e(),!t.isCurrentUser&&t.getUserByIdVuex.isSubscribing?r("button",{staticClass:"btn mt-10 mr-15",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.subscribe({user:t.getUserByIdVuex,action:-1})}}},[r("img",{attrs:{src:s("c31e"),alt:"subscribe icon"}})]):t._e(),t.isCurrentUser||t.getUserByIdVuex.isSubscribing?t._e():r("button",{staticClass:"btn mt-10 mr-15",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.subscribe({user:t.getUserByIdVuex,action:1})}}},[r("img",{attrs:{src:s("61f7"),alt:"subscribed icon"}})]),!t.isCurrentUser&&t.isFollowing?r("button",{staticClass:"btn btn-primary btn-profile-action mt-10 mr-15",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.follow({user:t.getUserByIdVuex,action:-1})}}},[t._v(" 正在跟隨 ")]):t._e(),t.isCurrentUser||t.isFollowing?t._e():r("button",{staticClass:"btn btn-primary-outline btn-profile-action mt-10 mr-15",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.follow({user:t.getUserByIdVuex,action:1})}}},[t._v(" 跟隨 ")])]),r("div",{staticClass:"mt-24 ml-15 mr-15"},[r("div",{staticClass:"user-name"},[t._v(t._s(t.getUserByIdVuex.name))]),r("div",{staticClass:"user-account"},[t._v(" "+t._s(t._f("userAccount")(t.getUserByIdVuex.account))+" ")]),r("div",{staticClass:"description mt-10"},[t._v(" "+t._s(t.getUserByIdVuex.introduction)+" ")]),r("div",{staticClass:"follow-container mt-10 mb-20"},[r("router-link",{staticClass:"mr-20",attrs:{to:{name:"UserFollowing"}}},[r("span",{staticClass:"text-dark"},[t._v(t._s(t.getUserByIdVuex.totalFollowings)+" 個")]),r("span",[t._v("跟隨中")])]),r("router-link",{attrs:{to:{name:"UserFollowers"}}},[r("span",{staticClass:"text-dark"},[t._v(t._s(t.getUserByIdVuex.totalFollowers)+" 位")]),r("span",[t._v("跟隨者")])])],1)])])])},a=[],n=s("5530"),i=(s("4de4"),s("2f62")),o=s("2708"),c={name:"userProfile",mixins:[o["a"],o["d"],o["f"]],props:["isCurrentUser"],created:function(){this.fetchPopularUsers(),this.fetchAllFollowing()},methods:{editProfile:function(){this.$store.commit("toggleEditProfileModal")},sendDirectMessage:function(t){this.$router.push({name:"DirectMessage",query:{userId:t}})}},computed:Object(n["a"])(Object(n["a"])({},Object(i["c"])(["getUser","getUserByIdVuex","getFollowing"])),{},{isFollowing:function(){var t=this,e=this.getFollowing.filter((function(e){return e.followingId===t.getUserByIdVuex.id}));return!!e.length&&e[0].isFollowings}})},l=c,u=s("2877"),d=Object(u["a"])(l,r,a,!1,null,null,null);e["a"]=d.exports},8728:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"tweet-tab"},[s("li",[s("router-link",{attrs:{to:{name:"UserAllTweets"}}},[t._v("推文")])],1),s("li",[s("router-link",{attrs:{to:{name:"UserReplies"}}},[t._v("推文與回覆")])],1),s("li",[s("router-link",{attrs:{to:{name:"UserLikes"}}},[t._v("喜歡的內容")])],1)])},a=[],n={name:"tweetTab"},i=n,o=s("2877"),c=Object(o["a"])(i,r,a,!1,null,null,null);e["a"]=c.exports},9348:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center mt-20"},[s("div",{staticClass:"spinner"},[s("div"),s("div"),s("div"),s("div")])])}],n={name:"spinner"},i=n,o=s("2877"),c=Object(o["a"])(i,r,a,!1,null,null,null);e["a"]=c.exports},a994:function(t,e,s){t.exports=s.p+"img/navTopArrow-back.37429225.svg"},c31e:function(t,e,s){t.exports=s.p+"img/profile-subscribed.9435d056.svg"},fbcf:function(t,e,s){t.exports=s.p+"img/tweet-liked-fill.cb226af3.svg"}}]);
//# sourceMappingURL=chunk-a46ead62.cd89b7d1.js.map