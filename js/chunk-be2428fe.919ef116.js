(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be2428fe"],{"4d9f":function(e,t,a){e.exports=a.p+"img/tweet-like.fb81adc3.svg"},"4fe4":function(e,t,a){e.exports=a.p+"img/tweet-reply.3df6b89d.svg"},"8d9f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"container"},[e.windowWidth<768?[a("navTopArrow"),a("section",{staticClass:"container-body"},[a("tweetToReply"),e._l(e.getRepliesInPage,(function(e,t){return a("replyInTweetPage",{key:t,attrs:{reply:e}})}))],2),a("navBottom"),a("addNewTweetModal",{directives:[{name:"show",rawName:"v-show",value:e.openAddNewTweetModal,expression:"openAddNewTweetModal"}]}),a("replyTweetModal",{directives:[{name:"show",rawName:"v-show",value:e.openReplyModal,expression:"openReplyModal"}]})]:e.windowWidth>=768&&e.windowWidth<1200?[a("navLeft"),a("section",{staticClass:"container-body-tablet-desktop"},[a("navTopArrow"),a("section",{staticClass:"container-body"},[a("tweetToReply"),e._l(e.getRepliesInPage,(function(e,t){return a("replyInTweetPage",{key:t,attrs:{reply:e}})}))],2)],1),a("addNewTweetModal",{directives:[{name:"show",rawName:"v-show",value:e.openAddNewTweetModal,expression:"openAddNewTweetModal"}]}),a("replyTweetModal",{directives:[{name:"show",rawName:"v-show",value:e.openReplyModal,expression:"openReplyModal"}]})]:[a("navLeftDesktop"),a("section",{staticClass:"container-body-tablet-desktop"},[a("navTopArrow"),a("section",{staticClass:"container-body"},[a("tweetToReply"),e._l(e.getRepliesInPage,(function(e,t){return a("replyInTweetPage",{key:t,attrs:{reply:e}})}))],2)],1),a("popularList"),a("addNewTweetModal",{directives:[{name:"show",rawName:"v-show",value:e.openAddNewTweetModal,expression:"openAddNewTweetModal"}]}),a("replyTweetModal",{directives:[{name:"show",rawName:"v-show",value:e.openReplyModal,expression:"openReplyModal"}]})]],2)},s=[],n=a("1da1"),i=a("5530"),o=(a("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nav-top"},[r("button",{staticClass:"btn btn-arrow",on:{click:e.backToHome}},[r("img",{attrs:{src:a("a994"),alt:"back to previous page button"}})]),r("span",{staticClass:"title"},[e._v("推文")])])}),c=[],l=a("2708"),d={name:"navTopArrow",mixins:[l["g"]]},p=d,u=a("2877"),w=Object(u["a"])(p,o,c,!1,null,null,null),m=w.exports,v=a("223e"),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"tweet-to-reply"},[r("div",{staticClass:"header mt-15 mb-15 ml-15 mr-15"},[r("router-link",{attrs:{to:{name:"UserAllTweets",params:{userAccount:e.getUserByIdVuex.id}}}},[r("img",{staticClass:"avatar-img mr-10",attrs:{src:e.getUserByIdVuex.avatar,alt:"avatar"}})]),r("div",[r("div",{staticClass:"user-name"},[e._v(e._s(e.getUserByIdVuex.name))]),r("div",{staticClass:"user-account"},[e._v(" "+e._s(e._f("userAccount")(e.getUserByIdVuex.account))+" ")])])],1),r("div",{staticClass:"body ml-15 mr-75"},[e._v(" "+e._s(e.getTweetInPage.description)+" ")]),r("div",{staticClass:"time-stamp mt-15 mb-15 ml-15 mr-15"},[e._v(" "+e._s(e._f("dateToLocaleString")(e.getTweetInPage.updatedAt))+" ")]),r("div",{staticClass:"interaction-record ml-15 mr-15"},[r("span",{staticClass:"mr-20"},[r("span",{staticClass:"text-dark-700"},[e._v(e._s(e.getTweetInPage.totalReply))]),e._v(" 回覆 ")]),r("span",[r("span",{staticClass:"text-dark-700"},[e._v(e._s(e.getTweetInPage.totalLike))]),e._v(" 喜歡次數 ")])]),r("div",{staticClass:"interaction-action-container mt-18 ml-15 mr-15"},[r("div",{staticClass:"reply mr-150 mb-10",on:{click:e.openReplyModal}},[r("img",{attrs:{src:a("4fe4"),alt:"tweet reply icon"}})]),e.getTweetInPage.isLiked?r("div",{staticClass:"like mb-10",on:{click:function(t){return e.likeTweet({action:-1,tweetId:e.getTweetInPage.id})}}},[r("img",{attrs:{src:a("fbcf"),alt:"tweet liked icon"}})]):r("div",{staticClass:"like mb-10",on:{click:function(t){return e.likeTweet({action:1,tweetId:e.getTweetInPage.id})}}},[r("img",{attrs:{src:a("4d9f"),alt:"tweet like icon"}})])])])},f=[],T=(a("99af"),a("2f62")),b=a("17db"),y=a("1602"),h={name:"tweetToReply",mixins:[l["a"]],data:function(){return{isProcessing:!1}},methods:Object(i["a"])(Object(i["a"])({},Object(T["b"])(["addLikeToTweetInPage","removeLikeFromTweetInPage"])),{},{openReplyModal:function(){this.$store.commit("toggleReplyModal")},likeTweet:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s,n,i,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.action,s=e.tweetId,!t.isProcessing){a.next=3;break}return a.abrupt("return");case 3:a.t0=r,a.next=1===a.t0?6:-1===a.t0?24:41;break;case 6:return a.prev=6,t.isProcessing=!0,a.next=10,y["a"].addLikeToTweet(s);case 10:if(n=a.sent,i=n.data,"200"===i.status){a.next=14;break}throw new Error(i.message);case 14:t.addLikeToTweetInPage(),t.isProcessing=!1,a.next=23;break;case 18:a.prev=18,a.t1=a["catch"](6),console.error(a.t1),b["a"].fire({title:"無法對該推文按讚"}),t.isProcessing=!1;case 23:return a.abrupt("break",41);case 24:return a.prev=24,t.isProcessing=!0,a.next=28,y["a"].removeLikeFromTweet(s);case 28:if(o=a.sent,c=o.data,"200"===c.status){a.next=32;break}throw new Error(c.message);case 32:t.removeLikeFromTweetInPage(),t.isProcessing=!1,a.next=41;break;case 36:a.prev=36,a.t2=a["catch"](24),console.error(a.t2),b["a"].fire({title:"無法對該推文收回讚"}),t.isProcessing=!1;case 41:case"end":return a.stop()}}),a,null,[[6,18],[24,36]])})))()}}),computed:Object(i["a"])({},Object(T["c"])(["getTweetInPage","getUserByIdVuex"])),filters:{dateToLocaleString:function(e){var t=new Date(e).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"}),a=new Date(e).toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"});return"".concat(a,"·").concat(t)}}},k=h,x=Object(u["a"])(k,g,f,!1,null,null,null),_=x.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tweet-component"},[a("div",{staticClass:"tweet-component-avatar"},[a("router-link",{attrs:{to:{name:"UserAllTweets",params:{userAccount:e.reply.User.id}}}},[a("img",{staticClass:"avatar-img mt-18 ml-15 mr-10",attrs:{src:e.reply.User.avatar,alt:"user avatar"}})])],1),a("div",{staticClass:"tweet-component-content pr-15"},[a("div",{staticClass:"header mt-15"},[a("router-link",{staticClass:"user-name mr-5",attrs:{to:{name:"UserAllTweets",params:{userAccount:e.reply.User.id}}}},[e._v(e._s(e.reply.User.name))]),a("span",{staticClass:"user-account"},[e._v(e._s(e._f("userAccount")(e.reply.User.account)))]),a("span",{staticClass:"time-stamp"},[e._v(e._s(e._f("fromNow")(e.reply.updatedAt)))])],1),a("div",{staticClass:"mt-4 text-gray"},[e._v(" 回覆 "),a("router-link",{staticClass:"text-primary",attrs:{to:{name:"UserAllTweets",params:{userAccount:e.reply.User.id}}}},[e._v(e._s(e._f("userAccount")(e.reply.User.name)))])],1),a("div",{staticClass:"body mt-6 mb-15"},[e._v(" "+e._s(e.reply.comment)+" ")])])])},C=[],R={name:"replyInTweetPage",mixins:[l["a"],l["h"]],props:["reply"]},P=R,A=Object(u["a"])(P,I,C,!1,null,null,null),M=A.exports,U=a("34f4"),j=a("8d4c"),O=a("74ef"),L=a("a461"),N=a("b2f5"),S=a("7482"),B={name:"ReplyTweet",mixins:[l["e"]],components:{navTopArrow:m,navBottom:v["a"],tweetToReply:_,replyInTweetPage:M,addNewTweetModal:U["a"],replyTweetModal:j["a"],navLeft:O["a"],navLeftDesktop:L["a"],popularList:N["a"]},created:function(){var e=this.$route.params.userAccount,t=this.$route.params.tweetId;this.getUserById(e),this.getSingleTweet(t),this.getSingleTweetReplies(t)},beforeRouteUpdate:function(e,t,a){var r=e.params.userAccount,s=e.params.tweetId;this.getUserById(r),this.getSingleTweet(s),this.getSingleTweetReplies(s),a()},methods:Object(i["a"])(Object(i["a"])({},Object(T["b"])(["setTweetInPage","setRepliesInPage"])),{},{getSingleTweet:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S["a"].getTweet(e);case 3:r=a.sent,s=r.data,t.setTweetInPage(s),a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](0),console.error(a.t0),b["a"].fire({title:"無法取得回覆內容"});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},getSingleTweetReplies:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S["a"].getTweetAllReplies(e);case 3:r=a.sent,s=r.data,t.setRepliesInPage(s),a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](0),console.error(a.t0),b["a"].fire({title:"無法取得回覆內容"});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}),computed:Object(i["a"])(Object(i["a"])({},Object(T["d"])(["windowWidth","openAddNewTweetModal","openReplyModal"])),Object(T["c"])(["getUser","getRepliesInPage"]))},E=B,$=Object(u["a"])(E,r,s,!1,null,null,null);t["default"]=$.exports},"99af":function(e,t,a){"use strict";var r=a("23e7"),s=a("d039"),n=a("e8b5"),i=a("861d"),o=a("7b0b"),c=a("50c4"),l=a("8418"),d=a("65f0"),p=a("1dde"),u=a("b622"),w=a("2d00"),m=u("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",f=w>=51||!s((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),T=p("concat"),b=function(e){if(!i(e))return!1;var t=e[m];return void 0!==t?!!t:n(e)},y=!f||!T;r({target:"Array",proto:!0,forced:y},{concat:function(e){var t,a,r,s,n,i=o(this),p=d(i,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(n=-1===t?i:arguments[t],b(n)){if(s=c(n.length),u+s>v)throw TypeError(g);for(a=0;a<s;a++,u++)a in n&&l(p,u,n[a])}else{if(u>=v)throw TypeError(g);l(p,u++,n)}return p.length=u,p}})},a994:function(e,t,a){e.exports=a.p+"img/navTopArrow-back.37429225.svg"},fbcf:function(e,t,a){e.exports=a.p+"img/tweet-liked-fill.cb226af3.svg"}}]);
//# sourceMappingURL=chunk-be2428fe.919ef116.js.map